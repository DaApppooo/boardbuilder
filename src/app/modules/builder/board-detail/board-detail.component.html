<div *ngIf="board">
  <mat-grid-list [cols]="board.columns" rowHeight="12rem" gutterSize="1rem">
    <mat-grid-tile *ngFor="let c of board.cells | slice:0 : (board.columns * board.rows)"
                   tabindex="0" (click)="selectCell(c)" (keyup.enter)="selectCell(c)"
                   [style.background-color]="c.background_colour"
                   [style.outline-color]="c.border_colour"
                   [class.selected]="cell === c"
                   [class.outlined]="c.border_colour"
    >

      <div fxLayout="column" fxLayoutAlign="space-between" fxFlex id="cellBox">

        <div *ngIf="board.captions_position === 'above'" fxFlex="grow">
          <span fxFlex="grow" [style.color]="c.text_colour">{{c.caption}}</span>
        </div>

        <div>
          <img    *ngIf="c.image_url && c.urlExtension != 'svg'"  [src]="c.image_url" crossorigin="anonymous"/>
          <object *ngIf="c.image_url && c.urlExtension === 'svg'" [data]="c.image_url | bypassSanitiser:'resourceUrl'" type="image/svg+xml"></object>
          <mat-icon *ngIf="!c.image_url" class="placeholder">landscape</mat-icon>
        </div>

        <div fxFlex fxLayout="row" fxLayoutAlign="space-between center">

          <div fxFlex="grow">
            <span fxFlex="grow" fxFlexOffset="10" [style.color]="c.text_colour" *ngIf="board.captions_position === 'below'">{{c.caption}}</span>
          </div>
          <span fxFlex="10">
            <button mat-icon-button [style.visibility]="c.linked_board_id ? 'visible' : 'hidden'"
                    (click)="showBoard(c.linked_board_id)"
                    matTooltip="Go to Linked Board">
              <mat-icon>link</mat-icon>
            </button>
          </span>
        </div>
      </div>
    </mat-grid-tile>
  </mat-grid-list>
</div>
