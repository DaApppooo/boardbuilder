<div class="dropzone text-center" fxLayout="column" [class.dropzone-active]="dropzoneActive"
    (drop)="dropFile($event); dropzoneActive = false"
    (dragenter)="allowDragDrop($event); dropzoneActive = true"
    (dragover)="allowDragDrop($event); dropzoneActive = true"
    (dragleave)="allowDragDrop($event); dropzoneActive = false"
>

  <ng-container *ngIf="uploadStatus != 'Uploading'">
    Drop an image file here
    <small class="py-1">
      <em>SVG &middot; PNG &middot; JPG &middot; GIF</em>
    </small>
  </ng-container>

  <ng-container *ngIf="uploadStatus === 'Uploading'">
    <mat-spinner diameter="24" style="margin: 0 auto"></mat-spinner>
    <em class="py-1">Uploading&hellip;</em>
  </ng-container>

  <button mat-flat-button color="primary"
          (click)="openFileSelector()"
          [disabled]="uploadStatus === 'Uploading'">
    Upload from Device&hellip;
  </button>
</div>

<div *ngIf="uploadStatus === 'Error'" class="py-2">We couldn't upload your file. Please try again, or use a different file.</div>

<div fxLayoutGap="10px grid" fxLayout="row wrap" *ngIf="!(loadingMedia)" class="mt-2">
  <div fxFlex="25" *ngFor="let mediaItem of media">
    <button fxFlex mat-stroked-button color="primary" (click)="mediaSelect.emit(mediaItem)" class="image-button"
    >
      <img mat-card-image [src]="mediaItem.public_url"/>
    </button>
  </div>
</div>

<input type="file" #fileUpload name="fileUpload" accept=".svg,.png,.jpg,.jpeg,.gif" style="display:none;"
       (change)="selectFile()"/>
