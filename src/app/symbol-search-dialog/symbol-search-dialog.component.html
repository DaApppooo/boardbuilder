<div fxLayout="row" fxLayoutAlign="space-between start">
  <h1 mat-dialog-title>Search for a Symbol</h1>
  <button mat-icon-button aria-label="Close the cell editor" [mat-dialog-close]="false">
    <mat-icon>close</mat-icon>
  </button>
</div>


<div mat-dialog-content>
  <div fxLayout="row">
    <div fxFlex="20">
      <div class="example-container">

        <label id="example-radio-group-label">Search in</label>

        <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group" [(ngModel)]="source">
          <mat-radio-button class="example-radio-button" *ngFor="let source of sources" [value]="source">
            {{source.name}}
          </mat-radio-button>
        </mat-radio-group>

        <div *ngFor="let param of source.params">
          <mat-form-field class="example-full-width" *ngIf="param.type === 'text'">
            <input matInput [(ngModel)]="param.value" [placeholder]="param.label" (change)="search()">
          </mat-form-field>

          <mat-form-field *ngIf="param.type === 'select'">
            <mat-label>{{param.label}}</mat-label>
            <mat-select [(value)]="param.value" (selectionChange)="search()">
              <mat-option *ngIf="param.allowBlank" [value]="">{{param.allowBlank}}</mat-option>
              <mat-option *ngFor="let option of param.options" [value]="option[param.option_id]">{{option.name}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </div>
    <div fxFlex="80">
      Results
      <div fxFlexFill fxLayoutGap="10px grid" fxLayout="wrap">
        <div fxFlex="20" *ngFor="let result of results">
          <mat-card>
            <img mat-card-image [src]="result.picto.image_url" class="img-resonsive"/>
          </mat-card>

        </div>
      </div>
    </div>
  </div>
</div>
<div mat-dialog-actions>
  <button mat-raised-button [mat-dialog-close]="false" color="accent">Cancel</button>
  <span class="spacer"></span>
  <button mat-raised-button [mat-dialog-close]="true" color="primary" cdkFocusInitial>Insert Symbol</button>
</div>
